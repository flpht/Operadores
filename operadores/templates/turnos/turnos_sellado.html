{% extends 'base.html' %}{% load static %}
{% block extra_head %}<link rel="stylesheet" href="{% static 'styles/turnos.css' %}">{% endblock %}
{% block content %}
<div id="turnos-anchor"></div>
<div class="shifts-app">
  <header class="shifts-topbar">
    <nav class="shifts-tabs" id="areaTabs">
  <a href="{% url 'turnos_extrusion' %}"
     class="{% if request.resolver_match.url_name == 'turnos_extrusion' %}active{% endif %}">
     Extrusión
  </a>
  <a href="{% url 'turnos_mezclado' %}"
     class="{% if request.resolver_match.url_name == 'turnos_mezclado' %}active{% endif %}">
     Mezclado
  </a>
  <a href="{% url 'turnos_laminado' %}"
     class="{% if request.resolver_match.url_name == 'turnos_laminado' %}active{% endif %}">
     Laminado
  </a>
  <a href="{% url 'turnos_impresion' %}"
     class="{% if request.resolver_match.url_name == 'turnos_impresion' %}active{% endif %}">
     Impresión
  </a>
  <a href="{% url 'turnos_sellado' %}"
     class="{% if request.resolver_match.url_name == 'turnos_sellado' %}active{% endif %}">
     Sellado
  </a>
  <a href="{% url 'turnos_corte' %}"
     class="{% if request.resolver_match.url_name == 'turnos_corte' %}active{% endif %}">
     Corte
  </a>
</nav>
    <div class="shifts-controls">
      <label>Fecha <input type="date" id="datePicker"></label>
      <button id="clearDay" class="btn-outline" type="button">Limpiar día</button>
    </div>
  </header>

  <div class="shifts-body">
    <aside class="operators">
      <div class="operators-head"><h3>Operadores</h3></div>
      <div class="operators-search"><input id="opSearch" placeholder="Buscar operador…"></div>
      <ul id="opList" class="operators-list"></ul>
    </aside>

    <main class="shifts-grid" id="grid">
      {% for s in "123" %}
      <section class="shift-col" data-shift="{{ forloop.counter }}">
        <header><h4>Turno {{ forloop.counter }} — {% if forloop.counter == 1 %}Mañana{% elif forloop.counter == 2 %}Tarde{% else %}Noche{% endif %}</h4></header>
        <div class="shift-container">

          <div class="slot-section">
            <div class="slot-title">Encargado de Sección <span class="slot-cap">0/1</span></div>
            <ul class="slot" data-area="cor_encargado" data-capacity="1"></ul>
          </div>

          <div class="slot-section">
            <div class="slot-title">Operadores de Corte <span class="slot-cap">0/3</span></div>
            <ul class="slot" data-area="cor_operadores" data-capacity="3"></ul>
          </div>

          <div class="slot-section">
            <div class="slot-title">Ayudantes <span class="slot-cap">0/3</span></div>
            <ul class="slot" data-area="cor_ayudantes" data-capacity="3"></ul>
          </div>

        </div>
      </section>
      {% endfor %}

      <section class="shift-col absences-col">
        <header><h4>Ausencias del día</h4></header>
        <div class="shift-container">
          <div class="absence-box"><h5>Compensados</h5><ul class="absence-drop" data-absence="compensados"></ul></div>
          <div class="absence-box"><h5>Licencias</h5><ul class="absence-drop" data-absence="licencias"></ul></div>
          <div class="absence-box"><h5>Vacaciones</h5><ul class="absence-drop" data-absence="vacaciones"></ul></div>
        </div>
      </section>
    </main>
  </div>
</div>
{% endblock %}
{% block extra_js %}<script src="{% static 'js/shifts.js' %}" defer></script>{% endblock %}
