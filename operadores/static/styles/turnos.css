/* ========================
 * 1. Variables y reset
 * ======================== */
:root{
  --color-primary:#0d6efd;
  --color-primary-light:#eaf2ff;
  --color-border:#dee2e6;
  --color-bg-light:#f8f9fa;
  --color-bg-white:#ffffff;
  --color-text:#212529;
  --color-text-muted:#6c757d;
  --color-success:#198754;
  --color-danger:#dc3545;
  --radius-sm:.25rem;
  --radius-md:.5rem;
}

*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--color-text);
  background:var(--color-bg-light);
  overflow:hidden; /* El scroll vive dentro de la app */
}
ul{ list-style:none; }
button{ cursor:pointer; font:inherit; }
input,select,button{ font-family:inherit; font-size:100%; }

/* ========================
 * 2. App fullscreen offset
 * ======================== */
/* La app ocupa toda la pantalla, empezando justo debajo del ancla */
.shifts-app{
  position:fixed;
  top:var(--app-top,0px); /* calculado por JS seg√∫n #turnos-anchor */
  left:0; right:0; bottom:0;
  display:flex; flex-direction:column;
  background:var(--color-bg-white);
}

/* ========================
 * 3. Topbar (tabs + controles)
 * ======================== */
.shifts-topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:0 1rem; border-bottom:1px solid var(--color-border); flex-shrink:0;
}
.shifts-tabs{ display:flex; }
.shifts-tabs button{
  background:none; border:none; border-bottom:3px solid transparent;
  padding:1rem 1.25rem; font-size:1rem; font-weight:500;
  color:var(--color-text-muted); margin-bottom:-1px;
}
.shifts-tabs button.active{ color:var(--color-primary); border-bottom-color:var(--color-primary); }
.shifts-controls{ display:flex; align-items:center; gap:.75rem; font-size:.9rem; color:var(--color-text-muted); }
.shifts-controls input[type="date"]{ padding:.25rem .5rem; }

/* ========================
 * 4. Body (sidebar + grid)
 * ======================== */
.shifts-body{
  display:flex; flex-grow:1; overflow:hidden; /* hijos scrollean */
}

/* ========================
 * 5. Sidebar Operadores
 * ======================== */
.operators{
  width:280px; border-right:1px solid var(--color-border); flex-shrink:0;
  display:flex; flex-direction:column; background:var(--color-bg-white);
}
.operators-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 1rem .5rem 1rem;
}
.operators-head h3{ font-size:1.1rem; }
.operators-search{ padding:.5rem 1rem; }
.operators-search input{ width:100%; }

.operators-list{
  flex-grow:1; overflow-y:auto; padding:.5rem 0;
}
.operator-item{
  display:flex; justify-content:space-between; align-items:center;
  padding:.75rem 1rem; border-bottom:1px solid var(--color-border); cursor:grab;
}
.operator-item:hover{ background:var(--color-bg-light); }
.operator-badge{
  font-size:.75rem; color:var(--color-text-muted); background:var(--color-bg-light);
  border:1px solid var(--color-border); border-radius:1rem; padding:.1rem .5rem; display:inline-block; margin-top:.25rem;
}
.operator-handle{ font-size:1.5rem; color:var(--color-text-muted); cursor:grab; }

/* ========================
 * 6. Grid de Turnos
 * ======================== */
.shifts-grid{
  flex-grow:1; display:grid; grid-template-columns:repeat(3,1fr);
  gap:1rem; padding:1rem; background:var(--color-bg-light); overflow:hidden;
}
.shift-col{
  display:flex; flex-direction:column; background:var(--color-bg-white);
  border:1px solid var(--color-border); border-radius:var(--radius-md); overflow:hidden;
}
.shift-col header{
  display:flex; justify-content:space-between; align-items:center;
  padding:.75rem 1rem; border-bottom:1px solid var(--color-border); flex-shrink:0;
}
.shift-col header h4{ font-size:1rem; }
.shift-col header .add-to-shift{
  background:var(--color-primary); color:#fff; border:none; border-radius:50%;
  width:24px; height:24px; font-size:1.25rem; line-height:20px; text-align:center;
}
.shift-container{ flex-grow:1; overflow-y:auto; padding:1rem; }

/* Drop zones */
.shift-drop{
  border:2px dashed var(--color-border); border-radius:var(--radius-md);
  min-height:100px; padding:.5rem;
}
.shift-drop.drag-over{ border-color:var(--color-primary); background:var(--color-primary-light); }

/* Slots (modo plantilla opcional) */
.slot-section{ margin-bottom:1rem; }
.slot-header{
  font-size:.9rem; font-weight:600; color:var(--color-text-muted);
  padding:.25rem; border-bottom:1px solid var(--color-border); margin-bottom:.5rem;
}
.slot-title{ font-size:.9rem; font-weight:500; padding:0 .25rem; display:flex; justify-content:space-between; }
.slot-cap{ font-weight:400; color:var(--color-text-muted); }
.slot{
  background:var(--color-bg-light); border:1px solid var(--color-border);
  border-radius:var(--radius-sm); padding:.5rem; min-height:3.5rem; margin-top:.25rem;
}
.slot.drag-over{ border-color:var(--color-primary); background:var(--color-primary-light); }

/* Cards */
.card{
  display:flex; justify-content:space-between; align-items:center;
  background:var(--color-bg-white); border:1px solid var(--color-border);
  border-left:4px solid var(--color-primary); padding:.5rem .75rem;
  border-radius:var(--radius-sm); margin-bottom:.5rem; cursor:grab;
  box-shadow:0 1px 3px rgba(0,0,0,.05);
}
.card:last-child{ margin-bottom:0; }
.card .meta{ font-size:.8rem; color:var(--color-text-muted); }
.card .actions button{
  background:none; border:none; color:var(--color-text-muted);
  font-size:1.25rem; padding:0 .25rem;
}
.card .actions button:hover{ color:var(--color-danger); }

/* ========================
 * 7. Botones y controles
 * ======================== */
.btn{
  background:var(--color-primary); color:#fff; border:none;
  padding:.5rem 1rem; border-radius:var(--radius-sm); font-weight:500; white-space:nowrap;
}
.btn:hover{ filter:brightness(1.1); }
.btn-outline{
  background:transparent; color:var(--color-text-muted);
  border:1px solid var(--color-border); padding:.5rem 1rem;
  border-radius:var(--radius-sm); font-weight:500; white-space:nowrap;
}
.btn-outline:hover{ background:var(--color-bg-light); }

input[type="text"], input[type="date"], select{
  padding:.5rem; border:1px solid var(--color-border);
  border-radius:var(--radius-sm); background:var(--color-bg-white);
}

/* ========================
 * 8. Modal
 * ======================== */
.modal{
  position:fixed; inset:0; background:rgba(0,0,0,.5);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}
.modal[hidden]{ display:none; }
.modal-card{
  background:var(--color-bg-white); padding:1.5rem; border-radius:var(--radius-md);
  box-shadow:0 5px 15px rgba(0,0,0,.2); width:90%; max-width:400px;
}
.modal-card h3{ margin-bottom:1.5rem; }
.modal-card label{
  display:block; font-size:.9rem; font-weight:500; color:var(--color-text-muted); margin-bottom:1rem;
}
.modal-card label input, .modal-card label select{ width:100%; margin-top:.25rem; }
.modal-actions{ display:flex; justify-content:flex-end; gap:.75rem; margin-top:1.5rem; }
